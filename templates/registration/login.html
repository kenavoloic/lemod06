{% extends 'base.html' %}
{% load static %}

{% block title %}Connexion - Suivi des Conducteurs{% endblock %}

{% block body_class %}login-page{% endblock %}

{% block extra_css %}
<link href="{% static 'css/auth.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="login-body">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-md-6 col-lg-5">
				<div class="card login-card animate-bounce-in">
					<div class="login-header text-center">
						<h2 class="mb-2">Suivi des Conducteurs</h2>
						<p class="mb-0 opacity-75">Connectez-vous</p>
					</div>

					<div class="login-form-body">
						<form id="login-form" method="post" data-validate="true">
							{% csrf_token %}

							<div class="mb-4">
								<label for="{{ form.username.id_for_label }}" class="form-label">
									<i class="fas fa-user me-2"></i>Nom d'utilisateur
								</label>
								<div class="input-group">
									<span class="input-group-text">
										<i class="fas fa-user"></i>
									</span>
									<input type="text" class="form-control" name="{{ form.username.name }}"
										id="{{ form.username.id_for_label }}" placeholder="Votre nom d'utilisateur"
										value="{{ form.username.value|default:'' }}" required autocomplete="username">
								</div>
								{% if form.username.errors %}
								<div class="invalid-feedback d-block">
									{% for error in form.username.errors %}{{ error }}{% endfor %}
								</div>
								{% endif %}
							</div>

							<div class="mb-4">
								<label for="{{ form.password.id_for_label }}" class="form-label">
									<i class="fas fa-lock me-2"></i>Mot de passe
								</label>
								<div class="input-group">
									<span class="input-group-text">
										<i class="fas fa-lock"></i>
									</span>
									<input type="password" class="form-control" name="{{ form.password.name }}"
										id="{{ form.password.id_for_label }}" placeholder="Votre mot de passe" required
										autocomplete="current-password">
									<button class="btn btn-outline-secondary" type="button" id="togglePassword"
										title="Afficher/masquer le mot de passe">
										<i class="fas fa-eye"></i>
									</button>
								</div>
								{% if form.password.errors %}
								<div class="invalid-feedback d-block">
									{% for error in form.password.errors %}{{ error }}{% endfor %}
								</div>
								{% endif %}
							</div>

							<div class="d-grid">
								<button type="submit" class="btn btn-login">
									<i class="fas fa-sign-in-alt me-2"></i>
									Se connecter
								</button>
							</div>
						</form>

						<hr class="my-4">

						<div class="text-center">
							<div class="row">
								<div class="col-12 mb-2">
									<small class="text-muted">
										<i class="fas fa-shield-alt me-1"></i>
										Connexion sécurisée
									</small>
								</div>
								<div class="col-12">
									<a href="/admin/" class="btn btn-outline-secondary btn-sm">
										<i class="fas fa-cog me-1"></i>
										Administration
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="text-center mt-3">
					<p class="text-white small opacity-75">
						 {% now "l j F Y" %}

					</p>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/auth.js' %}"></script>
{% endblock %}
